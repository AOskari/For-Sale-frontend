<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="styles.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@200;300;700&display=swap" rel="stylesheet">
  <title>For-Sale</title>
</head>
<body>
	<div id="main">
		<div id="toolbar">
	
			<div id="toolbar_logo_container" class="none">
				<img id="toolbar_logo" src="images/for-sale-logo.png" alt="logo">
			</div>

			<!-- Hidden class will be toggled when using search_nav_button -->
			<form id="searchbar_container" class="none">
				<input id="searchbar" placeholder="Search items.."/>
				<button id="searchbar_button" type="submit"><img src="images/search-icon.png" id="searchbar_button_img" alt=search></button>
			</form>

			<!-- login_btn displayed according to registered status -->
			<button id="login_btn" class="custom_button" class="display" onclick="displayLoginView()">
				Login / Register
			</button>

			<!-- user_thumbnail displayed according to registered status -->
			<div id="user_thumbnail_container" class="none" onclick="displayProfileView()">
				<img src="" alt="" id="user_thumbnail">
				<div id="notification" class="visible">ðŸ”´</div>
			</div>
		</div>

		<div id="bottom_nav">
			<button id="home_nav_button" class="focused nav_button" onclick="displayHomeView()">
				<img class="button-icon" src="images/home-icon.png">
				<h2>Home</h2>
			</button>
			<button id="search_nav_button" class="unfocused nav_button" onclick="displaySearchView()">
				<img class="button-icon" src="images/search-icon.png">
				<h2>Search</h2>
			</button>
			<button id="own_ads_nav_button" class="unfocused nav_button" onclick="displayOwnAdsView()">
				<img class="button-icon" src="images/listing-icon.png">
				<h2>My listings</h2>
			</button>
		</div>
	
		<!-- display property of elements within mid_section are toggled according to button clicks -->
		<section id="mid_section">


			<!-- elements used for displaying the login and registration screen. Login and register form displayed separately. -->
			<div id="login_and_register" class="display">

				<div id="login_register_section">
			
					<div id="logo_container"><img id="logo" src="images/for-sale-logo.png" alt="For-Sale logo"></div>

					<!-- Primary screen displayed when pressing the login/register button. Used for logging to the server. -->
					<form id="login_form" class="display">
						<h3 style="font-weight: 700;">Login</h3>
						<div class="input_container">
							<h4>Email</h4>
							<input class="input_field" id="login_name" placeholder="..." name="username" type="email" class="input_field" required>
						</div>
						<div class="input_container">
							<h4>Password</h4>
							<input class="input_field" id="login_passwd" type="password" name="password" placeholder="..." class="input_field" required>
							<h4 id="register_text">
								New user? 
								<button type="button" onclick="displayRegisterView()" class="borderless_button">Create an account
								</button>
							</h4>
						</div>
						<button type="submit" class="borderless_button">Sign in</button>
					</form>


					<!-- Form used for registering the user, which is displayed when clicking the new user button in login_form. -->
					<form id="register_form"  class="none">
						<button class="borderless_button" onclick="displayLoginView()">
							Back
						</button>
						<br>
						<h3 style="font-weight: 700;">Register user</h3>
						<div class="input_container">
							<h4>Email</h4>
							<input id="register_email" placeholder="..." name="email" type="email" class="input_field" required>
						</div>
						<div class="input_container">
							<h4>First name</h4>
							<input id="register_fname" placeholder="..." name="first_name" type="text" class="input_field" required>
						</div>
						<div class="input_container">
							<h4>Last name</h4>
							<input id="register_lname" placeholder="..." name="last_name" type="text" class="input_field" required>
						</div>
						<div class="input_container">
							<h4>Password</h4>
							<input id="register_passwd" type="password" name="passwd" placeholder="..." class="input_field" required>
						</div>
						<button type="submit" class="borderless_button">Register</button>
					</form> 

			</div>


				<div id="login_img_container">
						<img src="./images/login_wallpaper.jpg" alt="login_img" >
				</div>

			</div>

			<!-- Displays all the information of the user. This screen is only available if the user has logged in. -->
			<div id="user_profile" class="none">
				<div id="user_profile_container">

			
					<div id="profile_info">

						<div id="user_img_container"> 
							<img src="" id="user_img" alt="Profile picture">
						</div>

						
						<div id="profile_username">
							<h3 id="username">Fname Lname</h3>
						</div>
				
						<button id="logout_button" class="borderless_button">
							Logout
						</button>

					</div>

					<div id="user_info" class="display">

						<div id="current_profile_info" class="display">

							<div id="profile_info_section">
								<h3 id="user_email" class="user_profile_info"></h3>
								<h3 id="user_fname" class="user_profile_info"></h3>
								<h3 id="user_lname" class="user_profile_info"></h3>
								<h3 id="user_rating" class="user_profile_info"></h3>
								<h3 id="member_since" class="user_profile_info"></h3>
							</div>
							<div id="change_info_section" >
								<button onclick="displayChangeProfileInfoView()" class="custom_button">
									Change profile info
								</button>
							</div>

						</div>
					
						<div id="logout_section">
						
						</div>

					</div>
					
					<!-- Displayed when the user clicks on the change profile info button. -->
					<div id="change_profile_info" class="none">
				
						<form id="change_profile_info_form">
							<h3 style="font-weight: 700; margin: 5px; width: 100%">Profile info</h3>
							<div class="custom_file_input">
								<input type="file" name="profile_pic" placeholder="Add an image" accept="image/*" id="profile_pic_input">
							</div>
							
							<input type="email" value="email" placeholder="Email" id="change_email_input" name="email" class="change_profile_info_form_input">
							<input type="text" placeholder="First name" id="change_fname_input" name="first_name" class="change_profile_info_form_input">
							<input type="text" placeholder="Last name" id="change_lname_input" name="last_name" class="change_profile_info_form_input">
							<h5>*Changes require the current password</h5>
							<input type="password" placeholder="current password" name="old_passwd" id="old_passwd_input" class="change_profile_info_form_input" required>
							<input type="password" placeholder="new password" name="passwd" id="new_passwd_input" class="change_profile_info_form_input">
							<div id="change_profile_buttons">
								<button id="changes_back_button" type="button" onclick="displayProfileView()" class="custom_button">
									Back
								</button>
								<button id="save_changes_button" type="submit" class="custom_button">
									Save
								</button>
							</div>
						</form>
						
					</div>

				</div>

			</div>


			<!-- Home view -->
			<div id="home_section" class="display">
				<h2 id="top_sellers_title" class="section_title">Newest listings

					<div id="home_listing_pages" class="listing_pages">
						<button class="listing_pages_control_btn" id="home_page_previous_btn">Previous</button>
						<div id="home_page_btn_section">
							<!-- Page buttons are created here -->
						</div>
						<button class="listing_pages_control_btn" id="home_page_next_btn">Next</button>
					</div>

				</h2>
				
				<div id="home_listing_section" class="listing_section">
					<ul id="home_listing_list" class="listing_list">
						<!-- Listing cards are created here -->
					</ul>
				
				</div>
				<div class="listing_section_filler"></div>	
			</div>


			<!-- Home view -->
			<div id="search_section" class="none">
				<h2 class="section_title" id="search_title">Search
				</h2>
				<div id="search_listing_section" class="listing_section">
					<ul id="search_listing_list" class="listing_list">
						<!-- Listing cards are created here -->
					</ul>
				</div>
				<div class="listing_section_filler"></div>	
			</div>
			
			<!-- Own Ads view -->
			<div id="own_ads" class="none">
				<div id="own_listing_info_section" class="display">
					<div id="own_listing_info" class="section_title">
						<h2>My listings</h2>
						<h3 id="amount_of_ads">Listings: 0</h3>
						<button id="new_ad_button" onclick="displayNewAdForm()" class="custom_button">
							New listing
						</button>
					</div>
	
					<div id="own_listing_section">
						<ul id="own_listing_list">
							<!-- Listing cards are created here -->
	
						</ul>
					</div>
					
				</div>
				

				<div id="new_ad_section" class="none">

					<button class="borderless_button" onclick="displayOwnAdsView()">
						Back
					</button>

					<form id="new_ad_form">
						<h1 style="font-weight: 700;">Create a listing</h1>
						<br>
						<input type="file" name="filename" id="ad_form_file" class="custom_file_input" required>
						<input type="text" name="title" id="ad_form_title" class="input_field" placeholder="name" required>
						<input type="text" name="location" id="ad_form_location" class="input_field" placeholder="location" required>
						<input type="number" name="price" min="0" max="1000000" id="ad_form_price" class="input_field" placeholder="price" required>
						<textarea type="text" name="description" id="ad_form_description" class="input_field" placeholder="description" required></textarea>
						<button type="submit" class="custom_button" id="ad_form_button">Post ad</button>
					</form>
				</div>

				
				<div class="listing_section_filler"></div>	
			</div>


			<!-- Listing item information view -->
			<div id="listing_item_section" class="none">
			
				<div id="listing_upper_section">
					<div id="listing_item_buttons">
						<button id="listing_back_button" onclick="hideListingInfo()">
							<img src="images/arrow-icon.png">
						</button>
						<button id="listing_modify_button" class="none">
							<img src="images/settings-logo.png" id="modify_img">
						</button>
					</div>
			
					<div id="listing_title_section">
						<h2 id="listing_upper_section_title"></h2>
						<h2>â€¢</h2>
						<h2 id="listing_upper_posted_date"></h2>
					</div>
					<h2 id="listing_location">Location</h2>
				</div>
				
				<div id="listing_mid_section">
					<img src="" alt="listing picture" id="listing_section_img">
					<div id="myModal" class="modal">

						<!-- The Close Button -->
						<span class="close">&times;</span>

						<!-- Modal Content (The Image) -->
						<img class="modal-content" id="img01">

						<!-- Modal Caption (Image Text) -->
						<div id="caption"></div>
					</div>
				</div>
				<div id="listing_lower_section">
					<div id="listing_price_description">
						<h3 id="listing_lower_section_price"></h3>
						<p id="listing_lower_section_description"></p>
					</div>

					<div id="listing_user_info">
						<h2 id="listing_user_name"></h2>
						<h2 id="listing_user_email"></h2>
						<h2 id="listing_user_rating"></h2>
					</div>

					<div id="listing_comment_section">

						<form id="comment_form" class="none">
							<textarea id="comment_input" type="text" placeholder="Enter a comment.." required></textarea>
							<button id="add_comment_button" class="custom_button" type="submit">Submit</button>
						</form>
						<h2 id="comments_title">Comments:</h2>
						<ul id="listing_comments">

						</ul>						
						<div class="listing_section_filler"></div>	
						
					</div>
				

				</div>

				
			</div>

			<!-- View other user profile view -->
			<div id="other_user_profile" class="none">
			
				<div id="other_profile_container">

					<div id="other_user_img_container"> 
						<img src="" id="other_user_img" alt="Profile picture">
					</div>

					
					<div id="other_profile_info">
						<h3 id="other_username">Fname Lname</h3>
						<h3 id="other_joined_date">Member since 12 / 2021</h3>
						<h3 id="other_email" class="user_profile_info"></h3>
						<h3 id="review_rating">Rating: 4.0</h3>
					</div>
					<form id="review_form">
						<input value="0" type="number" min="0" max="5" step=1 name="review" id="review_input">
						<button id="review_button" class="custom_button">Leave a review</button>
					</form>
					<button id="review_back_button" class="borderless_button" onclick="displayListingItemView()">Back</button>
				</div>

			</div>



			<!-- Listing item modification view -->
			<div id="listing_item_modification" class="none">
				<div class="listing_section_filler">
					<button id="modify_backButton" onclick="displayOwnAdsView()"><img src="images/arrow-icon.png" id="modify_listing_backButton"></button>
					<button id="modify_deleteButton" onclick="deleteListing()"><img src="images/delete-logo.png" id="delete_listing_listingModify"></button>
				</div>
				<div id="listing_img_container">

					<img src="" id="listing_img">

				</div>
				<form id="change_listing_info_form">
					<input type="file" name="filename" class="custom_file_input">
					<h5>Description</h5>
					<textarea name="description" type="text" id="listing_modify_description" class="change_profile_info_form_input"></textarea>
					<h5>Location</h5>
					<input name="location" type="text" id="listing_modify_location" class="change_profile_info_form_input">
					<h5>Title</h5>
					<input name="title" type="text" id="listing_modify_title" class="change_profile_info_form_input">
					<h5>Price</h5>
					<input name="price" type="number" id="listing_modify_price" class="change_profile_info_form_input">
					<button type="submit" id="save_modify_changes" class="custom_button">Save changes</button>
				</form>
			
				<div class="listing_section_filler"></div>	
						
			</div>

		</section>

		
	</div>
	<script src="./js/modal.js"></script>
	<script src="./js/listing.js"></script>
	<script src="./js/comment.js"></script>
	<script src="./js/review.js"></script>
	<script src="./js/main.js"></script>
	<script src="./js/logout.js"></script>
	<script src="./js/login.js"></script>
	<script src="./js/modifyUser.js"></script>
	<script src="./js/search.js"></script>
	<script src="./js/serialize.js"></script>
</body>
</html>
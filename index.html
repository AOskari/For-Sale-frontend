<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="styles.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@200;300;700&display=swap" rel="stylesheet">
  <title>For-Sale</title>
</head>
<body>
	<div id="main">
		<div id="toolbar">
			<!-- user_thumbnail displayed according to registered status -->
			<div id="user_thumbnail_container" class="hidden" onclick="displayProfileView()">
				<img src="" alt="" id="user_thumbnail">
				<div id="notification" class="visible">ðŸ”´</div>
			</div>

			<!-- Hidden class will be toggled when using search_nav_button -->
			<input id="searchbar" placeholder="Search items.." class="hidden"/>
	
			<!-- login_btn displayed according to registered status -->
			<button id="login_btn" class="visible" onclick="displayLoginView()">
				Login / Register
			</button>
		</div>

		<div id="bottom_nav">
			<button id="home_nav_button" class="focused" onclick="displayHomeView()">Home</button>
			<button id="search_nav_button" class="unfocused" onclick="displaySearchView()">Search</button>
			<button id="own_ads_nav_button" class="unfocused" onclick="displayOwnAdsView()">Own ads</button>
		</div>
		
		<!-- display property of elements within mid_section are toggled according to button clicks -->
		<section id="mid_section">


			<!-- elements used for displaying the login and registration screen. Login and register form displayed separately. -->
			<div id="login_and_register" class="display">


				<div id="logo_container"><h1>Logo placeholder</h1></div>


				<!-- Primary screen displayed when pressing the login/register button. Used for logging to the server. -->
				<form id="login_form" class="display">
					<h3 style="font-weight: 700;">Login</h3>
					<div class="input_container">
						<h4>Email</h4>
						<input id="login_name" placeholder="..." name="username" type="email" class="input_field" required>
					</div>
					<div class="input_container">
						<h4>Password</h4>
						<input id="login_passwd" type="password" name="password" placeholder="..." class="input_field" required>
						<h4 id="register_text">
							New user? 
							<button type="button" onclick="displayRegisterView()" class="borderless_button">Create an account
							</button>
						</h4>
					</div>
					<button type="submit" class="borderless_button">Sign in</button>
				</form>


				<!-- Form used for registering the user, which is displayed when clicking the new user button in login_form. -->
				<form id="register_form"  class="none">
					<h3 style="font-weight: 700;">Register user</h3>
					<div class="input_container">
						<h4>Email</h4>
						<input id="register_email" placeholder="..." name="email" type="email" class="input_field" required>
					</div>
					<div class="input_container">
						<h4>First name</h4>
						<input id="register_fname" placeholder="..." name="first_name" type="text" class="input_field" required>
					</div>
					<div class="input_container">
						<h4>Last name</h4>
						<input id="register_lname" placeholder="..." name="last_name" type="text" class="input_field" required>
					</div>
					<div class="input_container">
						<h4>Password</h4>
						<input id="register_passwd" type="password" name="passwd" placeholder="..." class="input_field" required>
					</div>
					<button type="submit" class="borderless_button">Register</button>
				</form> 


			</div>

			<!-- Displays all the information of the user. This screen is only available if the user has logged in. -->
			<div id="user_profile" class="none">
			
				<div id="profile_info">
		
					<div id="user_img_container"> 
						<img src="" id="user_img" alt="Profile picture">
					</div>

					
					<div id="profile_username">
						<h3 id="username">Fname Lname</h3>
					</div>
			

				</div>

				<div id="user_info" class="display">

					<div id="current_profile_info" class="display">
						
						<div id="profile_info_section">
							<h3 id="user_email" class="user_profile_info"></h3>
							<h3 id="user_fname" class="user_profile_info"></h3>
							<h3 id="user_lname" class="user_profile_info"></h3>
						</div>
						<div id="change_info_section">
							<button onclick="displayChangeProfileInfoView()">
								Change profile info
							</button>
						</div>

					</div>
				
					<div id="logout_section">
						<button id="logout_button" class="borderless_button">
							Logout
						</button>
					</div>

				</div>
				
				<!-- Displayed when the user clicks on the change profile info button. -->
				<div id="change_profile_info" class="none">
			
					<form id="change_profile_info_form">
						<h3 style="font-weight: 700; margin: 5px;">Change profile info</h3>
						<input type="file" name="profile_pic" placeholder="Add an image" accept="image/*" id="profile_pic_input">
						<input type="email" value="email" placeholder="Email" id="change_email_input" name="email">
						<input type="text" placeholder="First name" id="change_fname_input" name="first_name">
						<input type="text" placeholder="Last name" id="change_lname_input" name="last_name">
						<h5>*Changes require the current password</h5>
						<input type="password" placeholder="old password" name="old_passwd" id="old_passwd_input" required>
						<input type="password" placeholder="new password" name="passwd" id="new_passwd_input">
						<div id="change_profile_buttons">
							<button id="changes_back_button" type="button" onclick="displayProfileView()">
								Back
							</button>
							<button id="save_changes_button" type="submit">
								Save
							</button>
						</div>
					</form>
					
				</div>

			</div>

		</section>


	</div>
	<script src="./js/main.js"></script>
	<script src="./js/logout.js"></script>
	<script src="./js/login.js"></script>
	<script src="./js/modifyUser.js"></script>
	<script src="./js/serialize.js"></script>
</body>
</html>